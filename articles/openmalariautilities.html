<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="openMalariaUtilities">
<title>Introduction to openMalariaUtilities • openMalariaUtilities</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to openMalariaUtilities">
<meta property="og:description" content="openMalariaUtilities">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">openMalariaUtilities</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">22.08.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/openmalariautilities.html">Introduction to openMalariaUtilities</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/SwissTPH/r-openMalariaUtilities/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Introduction to openMalariaUtilities</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/SwissTPH/r-openMalariaUtilities/blob/HEAD/vignettes/openmalariautilities.Rmd" class="external-link"><code>vignettes/openmalariautilities.Rmd</code></a></small>
      <div class="d-none name"><code>openmalariautilities.Rmd</code></div>
    </div>

    
    
<p>Open Malaria is a powerful tool for simulating and studying the epidemiology of malaria. However, it can also be daunting. This R package is designed to make the use of Open Malaria easier.</p>
<div class="section level2">
<h2 id="prerequisites">Prerequisites<a class="anchor" aria-label="anchor" href="#prerequisites"></a>
</h2>
<p>Make sure that <code>SQLite</code> and <code>Open Malaria</code> are both installed and available on the system. Please note: Even though the package should work on Windows, it is developed and tested under Linux.</p>
<p>To install the package, run</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"SwissTPH/r-openMalariaUtilities"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>Withing this tutorial, we will create and run example scenarios. Each scenario needs to be defined in a XML file which serves as an input for Open Malaria (OM). OpenMalariaUtilities (OMU) contains many functions which help to generate these input files. In this tutorial we will re-create the example from Open Malaria itself.</p>
</div>
<div class="section level2">
<h2 id="xml-file-generation">XML file generation<a class="anchor" aria-label="anchor" href="#xml-file-generation"></a>
</h2>
<p>A large part of OMU is dedicated at the generation of valid OM XML files. Before we start with the generation of these files, we will explain the folder layout of your projects.</p>
<p>In the folder hierarchy, your working or project directory is the top level. Within this folder, you can have one or more folders which correspond to the names of experiments. The simulations of these experiments are controlled via one or multiple R scripts, placed in the project directory. Please note: Most of the directories can be modified via function arguments, but for the sake of simplicity we using the defaults here.</p>
<pre><code>MyProject
├── experiment_1
├── experiment_2
├── ...
├── script_1.R
├── script_2.R
└── ...</code></pre>
<p>Each of the experiment folders will have a similar layout and content.</p>
<pre><code>MyProject/experiment_1
├── cache/
├── logs/
├── outputs/
├── scenarios/
├── autoRegressionParameters.csv
├── densities.csv
├── base.xml
└── scenario_44.xsd</code></pre>
<p>You do not need to worry about the creation of the folders and files. OMU will create necessary folders and download required files for you.</p>
<p>The <code>cache</code> folder contains R objects which are used by OMU to store reusable information. This will speed up certain operations. Log files are stored in the <code>logs</code> folder (which will contain sub-folders for each step in the process) and OM’s raw output will be <code>outputs</code>. The XML files for each simulation scenario are stored in the <code>scenarios</code> folder.</p>
<div class="section level3">
<h3 id="starting-the-project">Starting the project<a class="anchor" aria-label="anchor" href="#starting-the-project"></a>
</h3>
<p>In your R script, you will probably start with <code><a href="https://swisstph.github.io/r-openMalariaUtilities">library(openMalariaUtilities)</a></code>. Thus, the beginning could look like</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://swisstph.github.io/r-openMalariaUtilities">openMalariaUtilities</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Basic skeleton</span></span>
<span><span class="va">baseList</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="co">## Mandatory</span></span>
<span>  expName <span class="op">=</span> <span class="st">"example"</span>,</span>
<span>  <span class="co">## Mandatory</span></span>
<span>  OMVersion <span class="op">=</span> <span class="fl">44L</span>,</span>
<span>  <span class="co">## Optional</span></span>
<span>  <span class="co">## analysisNo = 1L,</span></span>
<span>  <span class="co">## Mandatory</span></span>
<span>  demography <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  monitoring <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  interventions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  healthSystem <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  entomology <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="co">## These are optional for OM</span></span>
<span>  <span class="co">## parasiteGenetics = list(),</span></span>
<span>  <span class="co">## pharmacology = list(),</span></span>
<span>  <span class="co">## diagnostics = list(),</span></span>
<span>  model <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>For XML file generation, OMU uses a list as input (here: <code>baseList</code>). This list has a very <a href="https://swisstph.github.io/openmalaria/schema-latest.html" class="external-link">similar structure</a> as the XML file required by OM but is easier to edit from R compared to XML. The above snippet corresponds to the minimal skeleton of this input list. <code>expName</code> is the name of your experiment and <code>OMVersion</code> the version of Open Malaria. Currently, only version 44 is supported. Also note, that the OM version needs to be an integer.</p>
<p>Each of the six nested lists <code>demography</code>, <code>monitoring</code>, <code>interventions</code>, <code>healthSystem</code>, <code>entomology</code> and <code>model</code> need to be filled for OM.</p>
</div>
<div class="section level3">
<h3 id="demography">Demography<a class="anchor" aria-label="anchor" href="#demography"></a>
</h3>
<p>There are two ways to add the data to the <code>demography</code> entry:</p>
<ol style="list-style-type: decimal">
<li>Add it manually, e.g. <code>baseList[["demography"]] &lt;- list(name = "Ifakara",    ...)</code>
</li>
<li>Use the provided <code><a href="../reference/defineDemography.html">defineDemography()</a></code> function</li>
</ol>
<p>We will use the second option in this tutorial. You can find various <code>defineXY</code> functions which are each designed to add a specific entry to the list. However, you always have the option to write parts or change specific entries manually (See also <code><a href="../reference/extractList.html">extractList()</a></code>).</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">demo_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  poppercent <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="fl">3.474714994</span>, <span class="fl">12.76004028</span>, <span class="fl">14.52151394</span>, <span class="fl">12.75565434</span>, <span class="fl">10.83632374</span>,</span>
<span>    <span class="fl">8.393312454</span>, <span class="fl">7.001421452</span>, <span class="fl">5.800587654</span>, <span class="fl">5.102136612</span>, <span class="fl">4.182561874</span>,</span>
<span>    <span class="fl">3.339409351</span>, <span class="fl">2.986112356</span>, <span class="fl">2.555766582</span>, <span class="fl">2.332763433</span>, <span class="fl">1.77400255</span>,</span>
<span>    <span class="fl">1.008525491</span>, <span class="fl">0.74167341</span>, <span class="fl">0.271863401</span>, <span class="fl">0.161614642</span></span>
<span>  <span class="op">)</span>,</span>
<span>  upperbound <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="fl">1</span>, <span class="fl">5</span>, <span class="fl">10</span>, <span class="fl">15</span>, <span class="fl">20</span>, <span class="fl">25</span>, <span class="fl">30</span>, <span class="fl">35</span>, <span class="fl">40</span>, <span class="fl">45</span>, <span class="fl">50</span>, <span class="fl">55</span>, <span class="fl">60</span>, <span class="fl">65</span>, <span class="fl">70</span>, <span class="fl">75</span>, <span class="fl">80</span>, <span class="fl">85</span>, <span class="fl">90</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">baseList</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/defineDemography.html">defineDemography</a></span><span class="op">(</span></span>
<span>  <span class="va">baseList</span>,</span>
<span>  name <span class="op">=</span> <span class="st">"Ifakara"</span>,</span>
<span>  popSize <span class="op">=</span> <span class="fl">4000L</span>,</span>
<span>  maximumAgeYrs <span class="op">=</span> <span class="fl">90</span>,</span>
<span>  lowerbound <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  poppercent <span class="op">=</span> <span class="va">demo_data</span><span class="op">$</span><span class="va">poppercent</span>,</span>
<span>  upperbound <span class="op">=</span> <span class="va">demo_data</span><span class="op">$</span><span class="va">upperbound</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">baseList</span>, max.level <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#&gt; List of 8</span></span>
<span><span class="co">#&gt;  $ expName      : chr "example"</span></span>
<span><span class="co">#&gt;  $ OMVersion    : int 44</span></span>
<span><span class="co">#&gt;  $ demography   :List of 4</span></span>
<span><span class="co">#&gt;   ..$ name         : chr "Ifakara"</span></span>
<span><span class="co">#&gt;   ..$ popSize      : int 4000</span></span>
<span><span class="co">#&gt;   ..$ maximumAgeYrs: num 90</span></span>
<span><span class="co">#&gt;   ..$ ageGroup     :List of 20</span></span>
<span><span class="co">#&gt;  $ monitoring   : list()</span></span>
<span><span class="co">#&gt;  $ interventions: list()</span></span>
<span><span class="co">#&gt;  $ healthSystem : list()</span></span>
<span><span class="co">#&gt;  $ entomology   : list()</span></span>
<span><span class="co">#&gt;  $ model        : list()</span></span></code></pre></div>
<p>In the above snippet, we started by creating a data frame which contains the demographic data. This in turn was used as input for <code><a href="../reference/defineDemography.html">defineDemography()</a></code> among other parameters. The function will take care that the information is added at the correct position and also check, that the correct data types are used.</p>
</div>
<div class="section level3">
<h3 id="monitoring">Monitoring<a class="anchor" aria-label="anchor" href="#monitoring"></a>
</h3>
<p>The <code>monitoring</code> section controls the output of Open Malaria, which is generated during the conducted <a href="https://swisstph.github.io/openmalaria/schema-latest.html" class="external-link">surveys</a>.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">baseList</span><span class="op">[[</span><span class="st">"monitoring"</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  name <span class="op">=</span> <span class="st">"Quarterly Surveys"</span>,</span>
<span>  <span class="co">## Mandatory, different from OM schema</span></span>
<span>  startDate <span class="op">=</span> <span class="st">"2000-01-01"</span>,</span>
<span>  continuous <span class="op">=</span> <span class="fu"><a href="../reference/monitoringContinuousGen.html">monitoringContinuousGen</a></span><span class="op">(</span></span>
<span>    period <span class="op">=</span> <span class="fl">1</span>,</span>
<span>    options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>      name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"input EIR"</span>, <span class="st">"simulated EIR"</span>, <span class="st">"human infectiousness"</span>, <span class="st">"N_v0"</span>,</span>
<span>               <span class="st">"immunity h"</span>, <span class="st">"immunity Y"</span>, <span class="st">"new infections"</span>,</span>
<span>               <span class="st">"num transmitting humans"</span>, <span class="st">"ITN coverage"</span>, <span class="st">"GVI coverage"</span>, <span class="st">"alpha"</span>,</span>
<span>               <span class="st">"P_B"</span>, <span class="st">"P_C*P_D"</span><span class="op">)</span>,</span>
<span>      value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"true"</span>, <span class="st">"true"</span>, <span class="st">"true"</span>, <span class="st">"true"</span>, <span class="st">"true"</span>, <span class="st">"true"</span>, <span class="st">"true"</span>, <span class="st">"true"</span>,</span>
<span>                <span class="st">"true"</span>, <span class="st">"true"</span>, <span class="st">"true"</span>, <span class="st">"false"</span>, <span class="st">"false"</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  SurveyOptions <span class="op">=</span> <span class="fu"><a href="../reference/monitoringSurveyOptionsGen.html">monitoringSurveyOptionsGen</a></span><span class="op">(</span></span>
<span>    options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>      name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"nHost"</span>, <span class="st">"nPatent"</span>, <span class="st">"nUncomp"</span>, <span class="st">"nSevere"</span>, <span class="st">"nDirDeaths"</span>,</span>
<span>               <span class="st">"inputEIR"</span>, <span class="st">"simulatedEIR"</span><span class="op">)</span>,</span>
<span>      value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"true"</span>, <span class="st">"true"</span>, <span class="st">"true"</span>, <span class="st">"true"</span>, <span class="st">"false"</span>, <span class="st">"true"</span>, <span class="st">"true"</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>We started the monitoring definition by giving it a name and defining a start date. Here, this is mandatory because it allows us to use dates as input for Open Malaria. It defines the starting point of the survey period.</p>
<p>For the options, two generator functions are used which take the name of the option and its value as input.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">baseList</span><span class="op">[[</span><span class="st">"monitoring"</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="va">baseList</span><span class="op">[[</span><span class="st">"monitoring"</span><span class="op">]</span><span class="op">]</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    surveys <span class="op">=</span>  <span class="fu"><a href="../reference/monitoringSurveyTimesGen.html">monitoringSurveyTimesGen</a></span><span class="op">(</span></span>
<span>      detectionLimit <span class="op">=</span> <span class="fl">40</span>, startDate <span class="op">=</span> <span class="st">"2000-01-01"</span>, endDate <span class="op">=</span> <span class="st">"2020-01-01"</span>,</span>
<span>      interval <span class="op">=</span> <span class="st">"quarterly"</span>, simStart <span class="op">=</span> <span class="st">"1980-01-01"</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">baseList</span><span class="op">[[</span><span class="st">"monitoring"</span><span class="op">]</span><span class="op">]</span>, max.level <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="co">#&gt; List of 5</span></span>
<span><span class="co">#&gt;  $ name         : chr "Quarterly Surveys"</span></span>
<span><span class="co">#&gt;  $ startDate    : chr "2000-01-01"</span></span>
<span><span class="co">#&gt;  $ continuous   :List of 14</span></span>
<span><span class="co">#&gt;  $ SurveyOptions:List of 7</span></span>
<span><span class="co">#&gt;  $ surveys      :List of 86</span></span></code></pre></div>
<p>The definition of the survey times itself is done above. Please note, that you really should use <code><a href="../reference/monitoringSurveyTimesGen.html">monitoringSurveyTimesGen()</a></code> as this function will make sure your desired survey points are valid (and adjust them if necessary) and will store them for later use in the cache.</p>
<p>We can inspect the cache to see if our survey times have been generated correctly.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/listCache.html">listCache</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Name: surveyTimes    Timestamp: 2022-08-22 15:21:52 </span></span>
<span><span class="co">#&gt; Class: data.table data.frame </span></span>
<span><span class="co">#&gt; Value:</span></span>
<span><span class="co">#&gt;      number       date   day timestep</span></span>
<span><span class="co">#&gt;   1:      1 1999-12-27  7295     1459</span></span>
<span><span class="co">#&gt;   2:      2 2000-03-27  7385     1477</span></span>
<span><span class="co">#&gt;   3:      3 2000-06-30  7480     1496</span></span>
<span><span class="co">#&gt;   4:      4 2000-09-28  7570     1514</span></span>
<span><span class="co">#&gt;   5:      5 2000-12-27  7660     1532</span></span>
<span><span class="co">#&gt;   6:      6 2001-03-27  7750     1550</span></span>
<span><span class="co">#&gt;   7:      7 2001-06-30  7845     1569</span></span>
<span><span class="co">#&gt;   8:      8 2001-09-28  7935     1587</span></span>
<span><span class="co">#&gt;   9:      9 2001-12-27  8025     1605</span></span>
<span><span class="co">#&gt;  10:     10 2002-03-27  8115     1623</span></span>
<span><span class="co">#&gt;  11:     11 2002-06-30  8210     1642</span></span>
<span><span class="co">#&gt;  12:     12 2002-09-28  8300     1660</span></span>
<span><span class="co">#&gt;  13:     13 2002-12-27  8390     1678</span></span>
<span><span class="co">#&gt;  14:     14 2003-03-27  8480     1696</span></span>
<span><span class="co">#&gt;  15:     15 2003-06-30  8575     1715</span></span>
<span><span class="co">#&gt;  16:     16 2003-09-28  8665     1733</span></span>
<span><span class="co">#&gt;  17:     17 2003-12-27  8755     1751</span></span>
<span><span class="co">#&gt;  18:     18 2004-03-27  8845     1769</span></span>
<span><span class="co">#&gt;  19:     19 2004-06-30  8940     1788</span></span>
<span><span class="co">#&gt;  20:     20 2004-09-28  9030     1806</span></span>
<span><span class="co">#&gt;  21:     21 2004-12-27  9120     1824</span></span>
<span><span class="co">#&gt;  22:     22 2005-03-27  9210     1842</span></span>
<span><span class="co">#&gt;  23:     23 2005-06-30  9305     1861</span></span>
<span><span class="co">#&gt;  24:     24 2005-09-28  9395     1879</span></span>
<span><span class="co">#&gt;  25:     25 2005-12-27  9485     1897</span></span>
<span><span class="co">#&gt;  26:     26 2006-03-27  9575     1915</span></span>
<span><span class="co">#&gt;  27:     27 2006-06-30  9670     1934</span></span>
<span><span class="co">#&gt;  28:     28 2006-09-28  9760     1952</span></span>
<span><span class="co">#&gt;  29:     29 2006-12-27  9850     1970</span></span>
<span><span class="co">#&gt;  30:     30 2007-03-27  9940     1988</span></span>
<span><span class="co">#&gt;  31:     31 2007-06-30 10035     2007</span></span>
<span><span class="co">#&gt;  32:     32 2007-09-28 10125     2025</span></span>
<span><span class="co">#&gt;  33:     33 2007-12-27 10215     2043</span></span>
<span><span class="co">#&gt;  34:     34 2008-03-27 10305     2061</span></span>
<span><span class="co">#&gt;  35:     35 2008-06-30 10400     2080</span></span>
<span><span class="co">#&gt;  36:     36 2008-09-28 10490     2098</span></span>
<span><span class="co">#&gt;  37:     37 2008-12-27 10580     2116</span></span>
<span><span class="co">#&gt;  38:     38 2009-03-27 10670     2134</span></span>
<span><span class="co">#&gt;  39:     39 2009-06-30 10765     2153</span></span>
<span><span class="co">#&gt;  40:     40 2009-09-28 10855     2171</span></span>
<span><span class="co">#&gt;  41:     41 2009-12-27 10945     2189</span></span>
<span><span class="co">#&gt;  42:     42 2010-03-27 11035     2207</span></span>
<span><span class="co">#&gt;  43:     43 2010-06-30 11130     2226</span></span>
<span><span class="co">#&gt;  44:     44 2010-09-28 11220     2244</span></span>
<span><span class="co">#&gt;  45:     45 2010-12-27 11310     2262</span></span>
<span><span class="co">#&gt;  46:     46 2011-03-27 11400     2280</span></span>
<span><span class="co">#&gt;  47:     47 2011-06-30 11495     2299</span></span>
<span><span class="co">#&gt;  48:     48 2011-09-28 11585     2317</span></span>
<span><span class="co">#&gt;  49:     49 2011-12-27 11675     2335</span></span>
<span><span class="co">#&gt;  50:     50 2012-03-27 11765     2353</span></span>
<span><span class="co">#&gt;  51:     51 2012-06-30 11860     2372</span></span>
<span><span class="co">#&gt;  52:     52 2012-09-28 11950     2390</span></span>
<span><span class="co">#&gt;  53:     53 2012-12-27 12040     2408</span></span>
<span><span class="co">#&gt;  54:     54 2013-03-27 12130     2426</span></span>
<span><span class="co">#&gt;  55:     55 2013-06-30 12225     2445</span></span>
<span><span class="co">#&gt;  56:     56 2013-09-28 12315     2463</span></span>
<span><span class="co">#&gt;  57:     57 2013-12-27 12405     2481</span></span>
<span><span class="co">#&gt;  58:     58 2014-03-27 12495     2499</span></span>
<span><span class="co">#&gt;  59:     59 2014-06-30 12590     2518</span></span>
<span><span class="co">#&gt;  60:     60 2014-09-28 12680     2536</span></span>
<span><span class="co">#&gt;  61:     61 2014-12-27 12770     2554</span></span>
<span><span class="co">#&gt;  62:     62 2015-03-27 12860     2572</span></span>
<span><span class="co">#&gt;  63:     63 2015-06-30 12955     2591</span></span>
<span><span class="co">#&gt;  64:     64 2015-09-28 13045     2609</span></span>
<span><span class="co">#&gt;  65:     65 2015-12-27 13135     2627</span></span>
<span><span class="co">#&gt;  66:     66 2016-03-27 13225     2645</span></span>
<span><span class="co">#&gt;  67:     67 2016-06-30 13320     2664</span></span>
<span><span class="co">#&gt;  68:     68 2016-09-28 13410     2682</span></span>
<span><span class="co">#&gt;  69:     69 2016-12-27 13500     2700</span></span>
<span><span class="co">#&gt;  70:     70 2017-03-27 13590     2718</span></span>
<span><span class="co">#&gt;  71:     71 2017-06-30 13685     2737</span></span>
<span><span class="co">#&gt;  72:     72 2017-09-28 13775     2755</span></span>
<span><span class="co">#&gt;  73:     73 2017-12-27 13865     2773</span></span>
<span><span class="co">#&gt;  74:     74 2018-03-27 13955     2791</span></span>
<span><span class="co">#&gt;  75:     75 2018-06-30 14050     2810</span></span>
<span><span class="co">#&gt;  76:     76 2018-09-28 14140     2828</span></span>
<span><span class="co">#&gt;  77:     77 2018-12-27 14230     2846</span></span>
<span><span class="co">#&gt;  78:     78 2019-03-27 14320     2864</span></span>
<span><span class="co">#&gt;  79:     79 2019-06-30 14415     2883</span></span>
<span><span class="co">#&gt;  80:     80 2019-09-28 14505     2901</span></span>
<span><span class="co">#&gt;  81:     81 2019-12-27 14595     2919</span></span>
<span><span class="co">#&gt;  82:     82 2020-03-27 14685     2937</span></span>
<span><span class="co">#&gt;  83:     83 2020-06-30 14780     2956</span></span>
<span><span class="co">#&gt;  84:     84 2020-09-28 14870     2974</span></span>
<span><span class="co">#&gt;  85:     85 2020-12-27 14960     2992</span></span>
<span><span class="co">#&gt;      number       date   day timestep</span></span>
<span><span class="co">#&gt;  </span></span>
<span><span class="co">#&gt;  --------------------------------------------------------------------------------</span></span></code></pre></div>
<p>We can notice two things:</p>
<ol style="list-style-type: decimal">
<li>We are expecting 81 surveys, however we have 85</li>
<li>The dates have been adjusted</li>
</ol>
<p>OMU adds one more year (here: 4 surveys) two the survey period. This is done in order to ensure that all deployments show their effect. The dates are adjusted so they match OM’s internal time steps. For more details on this, <a href="https://github.com/SwissTPH/openmalaria/wiki/ModelTimeUpdates#specifying-times" class="external-link">see here</a>.</p>
<p>Furthermore, the number of days or time steps is counted from the simulation start <code>simStart</code>, which is here the 1st January 1980. It is recommended to start the simulation 20 - 50 years before the first survey.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Roland Goers, Christian Selinger, Emilie Pothin, Munir Winkel.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
